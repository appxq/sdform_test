import{c as w,aq as z,b as h,r as u,ar as s,k as E,l as A,n as r,S as C,q as y,w as v,W as L,a7 as O,Y as R,p as F,ai as _,as as $,$ as U}from"./main-e8471a53.js";import{u as W}from"./SdFormBuilder-df667533.js";const I=w({name:"BuilderWidget",components:{...z},created(){this.builderState.initBuilder(!!h.resetFormModel),this.builderState.loadPresetCssCode(h.presetCssCode)},mounted(){this.disableFirefoxDefaultDrop(),this.builderState.registerFormField(this)},props:{formConfig:Object,optionsModel:{type:Object,default:()=>({})}},provide(){return{refList:this.fieldRefList,getFormConfig:()=>this.formConfig,globalOptionModel:this.optionsModel,getOptionModel:()=>this.optionsModel,globalModel:{formModel:this.formModel}}},setup(){const e=W(),c=u({}),a=u({}),l=u({}),p=s(()=>e.formConfig&&e.formConfig.labelPosition?e.formConfig.labelPosition:"left"),m=s(()=>e.formConfig&&e.formConfig.size?e.formConfig.size:"default"),d=s(()=>e.formConfig.customClass||""),f=s(()=>e.getLayoutType());function o(){navigator.userAgent.toLowerCase().indexOf("firefox")!==-1&&(document.body.ondrop=function(n){n.stopPropagation(),n.preventDefault()})}function i(t){return t.component+"-layout"}function S(t){return t.component}function D(t){}function M(t){const n=t.newIndex;e.fields[n]&&e.setSelected(e.fields[n]),e.emitHistoryChange()}function k(){e.emitHistoryChange()}function N(t){return e.checkContainerMove(t)}function B(){return a}function g(t,n=!1){let b=l[t];return!b&&n&&console.log("ref Not Found"),b}function P(){let t=e.selectedFieldName;return g(t)}return{builderState:e,labelPosition:p,size:m,customClass:d,layoutType:f,disableFirefoxDefaultDrop:o,getFieldRef:g,getFieldName:S,getContainerName:i,onDragEnd:D,onDragAdd:M,onDragUpdate:k,checkMove:N,getFormData:B,getSelectedFieldRef:P,formModel:a,fieldRefList:l,options:c}}});const T={class:"form-field-container"},V={key:0,class:"no-widget-hint"},j={class:"transition-group-ep"};function q(e,c,a,l,p,m){const d=A("draggable"),f=U;return r(),C("div",T,[y(f,{class:$(["full-height-width field-form",[e.customClass,e.layoutType+"-layout"]]),"label-position":e.labelPosition,size:e.size,"validate-on-rule-change":!1},{default:v(()=>[e.builderState.fields.length===0?(r(),C("div",V,"Please select a field, drag and drop to this container.")):L("",!0),y(d,O({list:e.builderState.fields,"item-key":"id"},{group:"dragGroup",ghostClass:"ghost",animation:300},{tag:"div",class:"form-field-list","component-data":{name:"fade"},handle:".drag-handler",onEnd:e.onDragEnd,onAdd:e.onDragAdd,onUpdate:e.onDragUpdate,move:e.checkMove}),{item:v(({element:o,index:i})=>[R("div",j,[o.category==="container"?(r(),F(_(e.getContainerName(o)),{field:o,key:o.id,builder:e.builderState,"parent-list":e.builderState.fields,"index-of-parent-list":i,"parent-field":null,"builder-status":!0},null,8,["field","builder","parent-list","index-of-parent-list"])):(r(),F(_(e.getFieldName(o)),{field:o,key:o.id,builder:e.builderState,"parent-list":e.builderState.fields,"index-of-parent-list":i,"parent-field":null,"builder-status":!0},null,8,["field","builder","parent-list","index-of-parent-list"]))])]),_:1},16,["list","onEnd","onAdd","onUpdate","move"])]),_:1},8,["label-position","class","size"])])}const Y=E(I,[["render",q],["__scopeId","data-v-0ce340f5"]]);export{Y as default};

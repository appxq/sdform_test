import{b as w,ao as z,r as u,ap as s,i as E,j as A,P as L,q as r,S as h,t as C,w as y,W as O,a5 as R,Y as U,s as v,ag as F,aq as W}from"./index.261950d3.js";/* empty css             */import{b as _,u as $}from"./index.b8df3f10.js";const j=w({name:"BuilderWidget",components:{...z},created(){this.builderState.initBuilder(!!_.resetFormModel),this.builderState.loadPresetCssCode(_.presetCssCode)},mounted(){this.disableFirefoxDefaultDrop(),this.builderState.registerFormField(this)},props:{formConfig:Object,optionsModel:{type:Object,default:()=>({})}},provide(){return{refList:this.fieldRefList,getFormConfig:()=>this.formConfig,globalOptionModel:this.optionsModel,getOptionModel:()=>this.optionsModel,globalModel:{formModel:this.formModel}}},setup(){const e=$(),c=u({}),a=u({}),l=u({}),p=s(()=>!!e.formConfig&&!!e.formConfig.labelPosition?e.formConfig.labelPosition:"left"),m=s(()=>!!e.formConfig&&!!e.formConfig.size?e.formConfig.size:"default"),d=s(()=>e.formConfig.customClass||""),f=s(()=>e.getLayoutType());function o(){navigator.userAgent.toLowerCase().indexOf("firefox")!==-1&&(document.body.ondrop=function(n){n.stopPropagation(),n.preventDefault()})}function i(t){return t.component+"-layout"}function S(t){return t.component}function D(t){}function M(t){const n=t.newIndex;e.fields[n]&&e.setSelected(e.fields[n]),e.emitHistoryChange()}function k(){e.emitHistoryChange()}function N(t){return e.checkContainerMove(t)}function B(){return a}function g(t,n=!1){let b=l[t];return!b&&!!n&&console.log("ref Not Found"),b}function P(){let t=e.selectedFieldName;return g(t)}return{builderState:e,labelPosition:p,size:m,customClass:d,layoutType:f,disableFirefoxDefaultDrop:o,getFieldRef:g,getFieldName:S,getContainerName:i,onDragEnd:D,onDragAdd:M,onDragUpdate:k,checkMove:N,getFormData:B,getSelectedFieldRef:P,formModel:a,fieldRefList:l,options:c}}});const I={class:"form-field-container"},T={key:0,class:"no-widget-hint"},V={class:"transition-group-ep"};function q(e,c,a,l,p,m){const d=A("draggable"),f=L;return r(),h("div",I,[C(f,{class:W(["full-height-width field-form",[e.customClass,e.layoutType+"-layout"]]),"label-position":e.labelPosition,size:e.size,"validate-on-rule-change":!1},{default:y(()=>[e.builderState.fields.length===0?(r(),h("div",T,"Please select a field, drag and drop to this container.")):O("",!0),C(d,R({list:e.builderState.fields,"item-key":"id"},{group:"dragGroup",ghostClass:"ghost",animation:300},{tag:"div",class:"form-field-list","component-data":{name:"fade"},handle:".drag-handler",onEnd:e.onDragEnd,onAdd:e.onDragAdd,onUpdate:e.onDragUpdate,move:e.checkMove}),{item:y(({element:o,index:i})=>[U("div",V,[o.category==="container"?(r(),v(F(e.getContainerName(o)),{field:o,key:o.id,builder:e.builderState,"parent-list":e.builderState.fields,"index-of-parent-list":i,"parent-field":null,"builder-status":!0},null,8,["field","builder","parent-list","index-of-parent-list"])):(r(),v(F(e.getFieldName(o)),{field:o,key:o.id,builder:e.builderState,"parent-list":e.builderState.fields,"index-of-parent-list":i,"parent-field":null,"builder-status":!0},null,8,["field","builder","parent-list","index-of-parent-list"]))])]),_:1},16,["list","onEnd","onAdd","onUpdate","move"])]),_:1},8,["label-position","class","size"])])}const x=E(j,[["render",q],["__scopeId","data-v-c2d5b768"]]);export{x as default};
